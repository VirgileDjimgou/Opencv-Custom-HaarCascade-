import preprocIMCOPIA
import callSNNS
import os

#os.system("vgrabbj -a -L 1 > demonio.jpg") # Arranca el demonio de captura
#os.system("vgrabbj -L 1 > imagen2.jpg") # Arranca el demonio de captura

for x in range(40):
    archivo = open("imagen2.jpg")
    lectura = ""
    temp = archivo.readline()
    while temp != "":
        #print "temp",temp
        lectura += temp
        temp = archivo.readline()        
    archivo.close()
    #print "mu",lectura
    apreproc = open("entrada.jpg","w")
    apreproc.write(lectura)
    apreproc.close()
    cambios = preprocIMCOPIA.preprocesar("./entrada.jpg",3,230)
    print "La carta es: ",callSNNS.propagar(cambios, 0.6)
os.system("killall vgrabbj")
